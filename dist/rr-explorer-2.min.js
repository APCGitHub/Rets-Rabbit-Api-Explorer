!function(){"use strict";angular.module("rr.api.v2.explorer",["rr.api.v2.explorer.directives","rr.api.v2.explorer.templates"])}();
angular.module("rr.api.v2.explorer.templates",[]).run(["$templateCache",function(e){e.put("explorer.bootstrap.html",'<div class="row">\n	<!-- FORM -->\n	<div class="col-md-6 col-sm-4 col-xs-12">\n		<form ng-submit="vm.search()" role="form" class="form-horizontal">\n			<!-- SELECT -->\n			<div class="form-group">\n				<label class="control-label col-sm-2" for="select">$select:</label>\n				<div class="col-sm-10">\n					<input class="form-control" ng-change="vm.updateQuery()" ng-repeat="select in vm.data.searchForm.select track by $index" name="select[]" ng-model="vm.data.searchForm.select[$index].value" id="select_{{$index+1}}" value="select.value" type="text"/>\n				</div>\n			</div>\n			<!-- FILTER -->\n			<div class="form-group">\n				<label class="control-label col-sm-2" for="filter">$filter:</label>\n				<div class="col-sm-10">\n					<input \n						ng-repeat-start="filter in vm.data.searchForm.filter track by $index" \n						ng-change="vm.updateQuery()" \n						name="filter[]" \n						class="form-control" \n						ng-model="vm.data.searchForm.filter[$index].value" \n						id="filter_{{$index+1}}" \n						type="text"/>\n					<input ng-repeat-end ng-change="vm.updateQuery()" class="form-control" ng-if="vm.data.searchform.filter.length > $index" ng-model="vm.data.searchForm.filter[$index].operator">\n				</div>\n			</div>\n			<!-- ORDERBY -->\n			<div class="form-group">\n				<label class="control-label col-sm-2" for="orderby">$orderby:</label>\n				<div class="col-sm-7" ng-repeat-start="orderby in vm.data.searchForm.orderby track by $index">\n					<input \n						name="orderby[]" \n						ng-model="vm.data.searchForm.orderby[$index].value" \n						id="orderby_input_{{$index+1}}" \n						class="form-control" \n						value="orderby.value"\n						ng-change="vm.updateQuery()"\n						type="text"/>\n				</div>\n				<div class="col-sm-3" ng-repeat-end>\n					<select ng-model="vm.data.searchForm.orderby[$index].direction" class="form-control" ng-change="vm.updateQuery()">\n						<option value="asc" selected>asc</option>\n						<option value="desc">desc</option>\n					</select>\n				</div>\n			</div>\n			<!-- TOP -->\n			<div class="form-group">\n				<label class="control-label col-sm-2" for="top">$top:</label>\n				<div class="col-sm-10">\n					<input ng-change="vm.updateQuery()" ng-model="vm.data.searchForm.top" name="top" class="form-control" id="top" type="text"/>\n				</div>\n			</div>\n			<!-- SKIP -->\n			<div class="form-group">\n				<label class="control-label col-sm-2" for="skip">$skip:</label>\n				<div class="col-sm-10">\n					<input ng-change="vm.updateQuery()" ng-model="vm.data.searchForm.skip" name="skip" class="form-control" id="skip" type="text"/>\n				</div>\n			</div>\n			<button type="submit" value="search">Search</button>\n		</form>\n	</div>\n	<!-- QUERY -->\n	<div class="col-md-6 col-sm-4 col-xs-12">\n		<h3>Request</h3>\n		<code>{{vm.data.request}}</code>\n	</div>\n	<!-- RESULTS -->\n	<div class="col-md-12 col-sm-4 col-xs-12">\n		<h3 class="text-center">Results</h3>\n		{{vm.data.results | json}}\n	</div>\n</div>')}]);
!function(){"use strict";function r(r){function e(){function e(){}function t(){c.data.searchForm.select.push({value:""})}function a(){c.data.searchForm.filter.push({value:""})}function o(){c.data.searchForm.orderby.push({value:""})}function l(){console.log("building the query");var e=r.apiUrl+"property?",t=0,a=[];c.data.searchForm.select.length&&(e+="$select="),e+=c.data.searchForm.select.map(function(r){return r.value}).join(", "),c.data.searchForm.filter.length&&(e+=c.data.searchForm.select.length?"&$filter=":"$filter="),a=c.data.searchForm.filter.map(function(r){return r.value});for(var t=0;t<c.data.searchForm.filter.length;t++)e+=a[t],""!=c.data.searchForm.filter[t].operator&&(e+=" "+c.data.searchForm.filter[t].operator),t+1<c.data.searchForm.filter.length&&(e+=" ");c.data.searchForm.orderby.length&&(e+=c.data.searchForm.select.length&&c.data.searchForm.filter.length?"&$filter=":"$filter="),e+=c.data.searchForm.orderby.map(function(r){return r.value+" "+r.direction}).join(", "),""!=c.data.searchForm.top&&(e+="$top="+c.data.searchForm.top),""!=c.data.searchForm.skip&&(e+="$skip="+c.data.searchForm.skip),c.data.request=e}var c=this;c.data={searchForm:{select:[{value:""}],filter:[{value:"",operator:""}],orderby:[{value:"",direction:"asc"}],top:"",skip:""},request:"",results:[]},c.search=e,c.addSelect=t,c.addFilter=a,c.addOrderby=o,c.updateQuery=l}return{restrict:"EA",scope:{},templateUrl:"explorer.bootstrap.html",controller:e,controllerAs:"vm",bindToController:!0}}angular.module("rr.api.v2.explorer.directive.explorer",[]).directive("apiExplorer",r),r.$inject=["ApiConfig"]}();
!function(){"use strict";angular.module("rr.api.v2.explorer.directives",["rr.api.v2.explorer.directive.explorer"])}();