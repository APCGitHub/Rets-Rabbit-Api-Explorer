!function(){"use strict";angular.module("rr.api.v2.explorer",["rr.api.v2.explorer.directives","rr.api.v2.explorer.filters","rr.api.v2.explorer.templates"])}();
angular.module("rr.api.v2.explorer.templates",[]).run(["$templateCache",function(n){n.put("explorer.bootstrap.html",'<div class="row">\n	<!-- FORM -->\n	<div class="col-md-6 col-sm-4 col-xs-12">\n		<h3>Build Query</h3>\n		<form ng-submit="vm.search(explorerForm.$valid)" name="explorerForm" role="form" class="form-horizontal" novalidate>\n			<!-- SELECT -->\n			<div class="form-group">\n				<label class="control-label col-sm-2" for="select">$select:</label>\n				<div class="col-sm-10">\n					<input class="form-control" ng-change="vm.updateQuery()" name="select" ng-model="vm.data.searchForm.select" id="select" type="text"/>\n				</div>\n			</div>\n			<!-- FILTER -->\n			<div class="form-group">\n				<label class="control-label col-sm-2" for="filter">$filter:</label>\n				<div class="col-sm-10">\n					<div class="row" ng-repeat-start="filter in vm.data.searchForm.filter track by $index">\n						<div class="col-sm-10">\n							<input  \n								ng-change="vm.updateQuery()" \n								name="filter_{{$index}}" \n								class="form-control" \n								required\n								ng-model="vm.data.searchForm.filter[$index].value" \n								id="filter_{{$index+1}}" \n								type="text"/>\n							<p ng-show="explorerForm.filter_{{$index}}.$invalid && !explorerForm.filter_{{$index}}.$pristine" class="help-block">Orderby must not be empty</p>\n						</div>\n						<!-- REMOVE FILTER -->\n						<div class="col-sm-2">\n							<button type="button" class="btn btn-danger" ng-click="vm.removeFilter(filter)"><i class="fa fa-trash-o"></i></button>\n						</div>\n					</div>\n					<!-- JOIN: AND | OR -->\n					<div class="row" ng-repeat-end ng-if="$index + 1 < vm.data.searchForm.filter.length" style="margin-top:15px; margin-bottom:15px">\n						<div class="col-sm-10">\n							<div class="row">\n								<div class="col-sm-4 col-sm-offset-4 text-center">\n									<select ng-model="vm.data.searchForm.filter[$index].join" class="form-control" ng-change="vm.updateQuery()">\n										<option value="and" selected>and</option>\n										<option value="or">or</option>\n									</select>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n				<!-- ADD FILTER -->\n				<div class="col-sm-4 col-sm-offset-4 text-center" style="margin-top:20px">\n					<button type="button" class="btn btn-success" ng-click="vm.addFilter()">Add Filter</button>\n				</div>\n			</div>\n			<!-- ORDERBY -->\n			<div class="form-group">\n				<label class="control-label col-sm-2" for="orderby">$orderby:</label>\n				<div class="col-sm-10">\n					<div style="margin-bottom:15px" class="row" ng-repeat="orderby in vm.data.searchForm.orderby track by $index">\n						<div class="col-sm-8">\n							<input \n								name="orderby_{{$index}}" \n								ng-model="vm.data.searchForm.orderby[$index].value" \n								id="orderby_input_{{$index+1}}" \n								class="form-control"\n								required\n								value="orderby.value"\n								ng-change="vm.updateQuery()"\n								type="text"/>	\n							<p ng-show="explorerForm.orderby_{{$index}}.$invalid && !explorerForm.orderby_{{$index}}.$pristine" class="help-block">Orderby must not be empty</p>\n						</div>\n						<div class="col-sm-2">\n							<select ng-model="vm.data.searchForm.orderby[$index].direction" class="form-control" ng-change="vm.updateQuery()">\n								<option value="asc" selected>asc</option>\n								<option value="desc">desc</option>\n							</select>\n						</div>\n						<!-- REMOVE FILTER -->\n						<div class="col-sm-1">\n							<button type="button" class="btn btn-danger" ng-click="vm.removeOrderby(orderby)"><i class="fa fa-trash-o"></i></button>\n						</div>\n					</div>\n				</div>\n				<!-- ADD ORDERBY -->\n				<div class="col-sm-4 col-sm-offset-4 text-center">\n					<button type="button" class="btn btn-success" ng-click="vm.addOrderby()">Add Orderby</button>\n				</div>\n			</div>\n			<!-- TOP -->\n			<div class="form-group">\n				<label class="control-label col-sm-2" for="top">$top:</label>\n				<div class="col-sm-4">\n					<input ng-change="vm.updateQuery()" ng-model="vm.data.searchForm.top" name="top" class="form-control" id="top" type="text"/>\n				</div>\n				<!-- SKIP -->\n				<label class="control-label col-sm-2" for="skip">$skip:</label>\n				<div class="col-sm-4">\n					<input ng-change="vm.updateQuery()" ng-model="vm.data.searchForm.skip" name="skip" class="form-control" id="skip" type="text"/>\n				</div>\n			</div>\n			<button type="submit" class="btn btn-primary btn-lg" ng-disabled="vm.data.searching || explorerForm.$invalid" value="search">\n				<span ng-if="!vm.data.searching">Search</span>\n				<span ng-if="vm.data.searching">Searching...</span>\n			</button>\n		</form>\n	</div>\n	<!-- QUERY -->\n	<div class="col-md-6 col-sm-4 col-xs-12">\n		<h3>Request</h3>\n		<code style="display:block; padding:10px">\n			{{vm.data.fullRequest}}\n		</code>\n	</div>\n	<!-- RESULTS -->\n	<div class="col-md-8 col-md-offset-2 col-sm-12 col-xs-12">\n		<h3 class="text-center">Results<span ng-if="vm.data.total_results > -1">:&nbsp;{{vm.data.total_results}}</span></h3>\n		<div class="results" ng-if="vm.data.results && !vm.data.error">\n			<pre>{{vm.data.results | prettyJson}}</pre>\n		</div>\n		<div class="error" ng-if="vm.data.error">\n			<pre>{{vm.data.error | prettyJson}}</pre>\n		</div>\n	</div>\n</div>')}]);
!function(){"use strict";function r(r,e){function a(){function a(r){r&&(d.data.total_results=-1,d.data.error=null,d.data.results=null,d.data.searching=!0,e.search(d.data.request).then(function(r){d.data.error=null,d.data.results=r,d.data.total_results=r.value.length,d.data.searching=!1},function(r){d.data.searching=!1,d.data.error=r.error}))}function t(){d.data.searchForm.filter.push({value:"",operator:"",join:"and"})}function o(r){var e=d.data.searchForm.filter.indexOf(r);d.data.searchForm.filter.splice(e,1),c()}function l(){d.data.searchForm.orderby.push({value:"",direction:"asc"})}function s(r){var e=d.data.searchForm.orderby.indexOf(r);d.data.searchForm.orderby.splice(e,1),c()}function c(){var e="",a=0,t=[];""!==d.data.searchForm.select&&(e+="$select="+d.data.searchForm.select),d.data.searchForm.filter.length&&""!==d.data.searchForm.filter[0].value&&(e+=""!==d.data.searchForm.select?"&$filter=":"$filter="),t=d.data.searchForm.filter.map(function(r){return r.value});for(var a=0;a<d.data.searchForm.filter.length;a++)""!==d.data.searchForm.filter[a].value&&(e+=t[a],""!==d.data.searchForm.filter[a].value&&a+1<d.data.searchForm.filter.length&&(e+=" "+d.data.searchForm.filter[a].join),a+1<d.data.searchForm.filter.length&&(e+=" "));d.data.searchForm.orderby.length&&""!==d.data.searchForm.orderby[0].value&&(e+=""!==d.data.searchForm.select&&d.data.searchForm.filter.length?"&$orderby=":"$orderby="),e+=d.data.searchForm.orderby.map(function(r){return""!==r.value?r.value+" "+r.direction:""}).join(", "),""!=d.data.searchForm.top&&(e+="&$top="+d.data.searchForm.top),""!=d.data.searchForm.skip&&(e+="&$skip="+d.data.searchForm.skip),d.data.fullRequest=r.apiUrl+"property?"+e,d.data.request=e}var d=this;d.data={searchForm:{select:"",filter:[{value:"",operator:"",join:"and"}],orderby:[{value:"",direction:"asc"}],top:"",skip:""},fullRequest:r.apiUrl+"property?",request:"",results:null,total_results:-1,error:null,searching:!1},d.search=a,d.addFilter=t,d.removeFilter=o,d.addOrderby=l,d.removeOrderby=s,d.updateQuery=c}return{restrict:"EA",scope:{},templateUrl:"explorer.bootstrap.html",controller:a,controllerAs:"vm",bindToController:!0}}angular.module("rr.api.v2.explorer.directive.explorer",[]).directive("apiExplorer",r),r.$inject=["ApiConfig","PropertyFactory"]}();
!function(){"use strict";angular.module("rr.api.v2.explorer.directives",["rr.api.v2.explorer.directive.explorer"])}();
!function(){"use strict";angular.module("rr.api.v2.explorer.filters",["rr.api.v2.explorer.filter.prettyJson"])}();
!function(){"use strict";function r(){return function(r){return"string"!=typeof r&&(r=JSON.stringify(r,void 0,4)),r}}angular.module("rr.api.v2.explorer.filter.prettyJson",[]).filter("prettyJson",r)}();